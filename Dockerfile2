FROM mirrorultroid6/mega-sdk-python:latest
RUN type ffmpeg && type aria2c && type qbittorrent-nox
RUN mv /usr/bin/aria2c /usr/bin/mrbeast && mkdir -pv /usr/src/test && mkdir -pv /usr/src/binary && \
    mv /usr/bin/qbittorrent-nox /usr/bin/pewdiepie && \
    mv /usr/bin/ffmpeg /usr/bin/mutahar
COPY requirements.txt .
RUN pip3 install --no-cache-dir -r requirements.txt
COPY pewdiepie.pyx setup.py /usr/src/test/
RUN cd /usr/src/test/ && python3 setup.py build_ext --inplace && cp pewdiepie.cpython-38-x86_64-linux-gnu.so /usr/src/binary/pewdiepie.so
COPY start.sh race.py .
RUN ls -la /usr/src/binary/ && ls -la
